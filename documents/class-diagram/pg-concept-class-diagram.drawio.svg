<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="3391px" height="1556px" viewBox="-0.5 -0.5 3391 1556" content="&lt;mxfile host=&quot;app.diagrams.net&quot; agent=&quot;Mozilla/5.0 (X11; Linux x86_64; rv:128.0) Gecko/20100101 Firefox/128.0&quot; version=&quot;24.8.6&quot;&gt;&#xA;  &lt;diagram id=&quot;C5RBs43oDa-KdzZeNtuy&quot; name=&quot;Page-1&quot;&gt;&#xA;    &lt;mxGraphModel dx=&quot;5088&quot; dy=&quot;2549&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;827&quot; pageHeight=&quot;1169&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#xA;      &lt;root&gt;&#xA;        &lt;mxCell id=&quot;WIyWlLk6GJQsqaUBKTNV-0&quot; /&gt;&#xA;        &lt;mxCell id=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-0&quot; /&gt;&#xA;        &lt;mxCell id=&quot;8CZ1z92vLOjwAlKg1PTv-35&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;i&amp;gt;&amp;amp;lt;&amp;amp;lt;Interface&amp;amp;gt;&amp;amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;Notifier&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ send(notificationTask): void&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;817.5&quot; y=&quot;-284&quot; width=&quot;275&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;8CZ1z92vLOjwAlKg1PTv-36&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;EmailNotifier&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ EmailNotifier(): EmailNotifier&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ attempt(task: NotificationTask): void {Exception}&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;520.0000000000001&quot; y=&quot;170&quot; width=&quot;270&quot; height=&quot;110&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;8CZ1z92vLOjwAlKg1PTv-37&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;SMSNotifier&amp;lt;/b&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ SMSNotifier(): SMSNotifier&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ attempt(task: NotificationTask): void {Exception}&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;820&quot; y=&quot;170&quot; width=&quot;270&quot; height=&quot;110&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;8CZ1z92vLOjwAlKg1PTv-38&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;AppNotifier&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;div&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ AppNotifier(): AppNotifier&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ attempt(task: NotificationTask): void {Exception}&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;1109.9999999999998&quot; y=&quot;170&quot; width=&quot;280&quot; height=&quot;110&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;8CZ1z92vLOjwAlKg1PTv-53&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;i&amp;gt;&amp;lt;b&amp;gt;NotificationSendStrategy&amp;lt;/b&amp;gt;&amp;lt;b&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- channels: []Notifier&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ NotificationStrategy(channels: []Notifier)&amp;lt;br&amp;gt;+ send(notificationTask): void&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;823.75&quot; y=&quot;-560&quot; width=&quot;262.5&quot; height=&quot;110&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;8CZ1z92vLOjwAlKg1PTv-66&quot; value=&quot;&quot; style=&quot;endArrow=open;endFill=1;endSize=12;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;8CZ1z92vLOjwAlKg1PTv-53&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;1019.9999999999998&quot; y=&quot;-450&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;1019.9999999999998&quot; y=&quot;-284&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;8CZ1z92vLOjwAlKg1PTv-67&quot; value=&quot;channels&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;8CZ1z92vLOjwAlKg1PTv-66&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.0877&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint y=&quot;40&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;8CZ1z92vLOjwAlKg1PTv-68&quot; value=&quot;1 ... *&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;8CZ1z92vLOjwAlKg1PTv-66&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.7679&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;22&quot; y=&quot;11&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;H1KFxOfMTo0-6KyfxNhI-1&quot; value=&quot;&quot; style=&quot;endArrow=open;endFill=1;endSize=12;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;B5AFUQwHSjMX_KZSmA6F-3&quot; target=&quot;8CZ1z92vLOjwAlKg1PTv-53&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;635&quot; y=&quot;-50.729927007299466&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;710&quot; y=&quot;180&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;H1KFxOfMTo0-6KyfxNhI-2&quot; value=&quot;SEND_ STRATEGY&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;H1KFxOfMTo0-6KyfxNhI-1&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.0877&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-27&quot; y=&quot;5&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;H1KFxOfMTo0-6KyfxNhI-3&quot; value=&quot;1&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;H1KFxOfMTo0-6KyfxNhI-1&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.7679&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-1&quot; y=&quot;-15&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;f5qeIdJVCtiyw4lMuLqa-0&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;AccountBase&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ ID {readOnly}&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;-120&quot; y=&quot;-850&quot; width=&quot;240&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;f5qeIdJVCtiyw4lMuLqa-1&quot; value=&quot;&quot; style=&quot;endArrow=open;endFill=1;endSize=12;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;B5AFUQwHSjMX_KZSmA6F-3&quot; target=&quot;f5qeIdJVCtiyw4lMuLqa-0&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;25&quot; y=&quot;419.4495412844035&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;918.125&quot; y=&quot;-300&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;f5qeIdJVCtiyw4lMuLqa-2&quot; value=&quot;ACCOUNT&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;f5qeIdJVCtiyw4lMuLqa-1&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.0877&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-27&quot; y=&quot;5&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;f5qeIdJVCtiyw4lMuLqa-3&quot; value=&quot;1&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;f5qeIdJVCtiyw4lMuLqa-1&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.7679&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;12&quot; y=&quot;3&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-0&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;NotificationService&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;div&amp;gt;&amp;amp;nbsp;- TASK_FACTORY: NotificationTaskFactory {readOnly}&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;nbsp;- SCHEDULER: NotificationTaskScheduler {readOnly}&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ scheduleNewLendingBundle(account: AccountBase, lending: Lending): void&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- scheduleReturnDateNotification(account: AccountBase, lending: Lending): void&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;-1600&quot; y=&quot;-360&quot; width=&quot;660&quot; height=&quot;110&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-2&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;Notification&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ title: String {readOnly}&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ message: String {readOnly}&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;290&quot; y=&quot;-850&quot; width=&quot;220&quot; height=&quot;100&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-3&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;NotificationTask&amp;amp;lt;T&amp;amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ NOTIFICATION: Notification {readOnly}&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ SEND_STRATEGY: NotificationStrategy {readOnly}&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ SCHEDULED_AT: LocalDateTime {readOnly}&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ ACCOUNT: AccountBase {readOnly}&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ STORE_STRATEGY: NotificationTaskStoreStrategy {readOnly}&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ isScheduledBefore(LocalDateTime): bool&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ store(): void&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ send(): void&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;36.25&quot; y=&quot;-680&quot; width=&quot;340&quot; height=&quot;170&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-4&quot; value=&quot;&quot; style=&quot;endArrow=open;endFill=1;endSize=12;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;B5AFUQwHSjMX_KZSmA6F-3&quot; target=&quot;B5AFUQwHSjMX_KZSmA6F-2&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;755&quot; y=&quot;-27&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;636.4285714285711&quot; y=&quot;-290&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-5&quot; value=&quot;NOTIFICATION&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;B5AFUQwHSjMX_KZSmA6F-4&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.0877&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-27&quot; y=&quot;5&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-6&quot; value=&quot;1&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;B5AFUQwHSjMX_KZSmA6F-4&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.7679&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;22&quot; y=&quot;11&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-7&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;NotificationStrategy&amp;lt;/b&amp;gt;&amp;lt;b&amp;gt;Factory&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- emailNotifier&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- smsNotifier&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- appNotifier&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ createAlertStrategy(): NotificationStrategy&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ createWarningStrategy(): NotificationStrategy&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ createReminderStrategy(): NotificationStrategy&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;823.75&quot; y=&quot;340&quot; width=&quot;262.5&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-8&quot; value=&quot;&quot; style=&quot;endArrow=open;endFill=1;endSize=12;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;B5AFUQwHSjMX_KZSmA6F-7&quot; target=&quot;8CZ1z92vLOjwAlKg1PTv-36&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;440.00000000000006&quot; y=&quot;150&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;1015.9999999999998&quot; y=&quot;150&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-9&quot; value=&quot;emailNotifier&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;B5AFUQwHSjMX_KZSmA6F-8&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.0877&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-27&quot; y=&quot;5&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-10&quot; value=&quot;1&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;B5AFUQwHSjMX_KZSmA6F-8&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.7679&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-17&quot; y=&quot;1&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-11&quot; value=&quot;&quot; style=&quot;endArrow=open;endFill=1;endSize=12;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;B5AFUQwHSjMX_KZSmA6F-7&quot; target=&quot;8CZ1z92vLOjwAlKg1PTv-37&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;855&quot; y=&quot;350&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;733.0000000000001&quot; y=&quot;270&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-12&quot; value=&quot;smsNotifier&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;B5AFUQwHSjMX_KZSmA6F-11&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.0877&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-27&quot; y=&quot;5&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-13&quot; value=&quot;1&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;B5AFUQwHSjMX_KZSmA6F-11&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.7679&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-17&quot; y=&quot;1&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-14&quot; value=&quot;&quot; style=&quot;endArrow=open;endFill=1;endSize=12;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;B5AFUQwHSjMX_KZSmA6F-7&quot; target=&quot;8CZ1z92vLOjwAlKg1PTv-38&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;963&quot; y=&quot;350&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;964&quot; y=&quot;270&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-15&quot; value=&quot;appNotifier&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;B5AFUQwHSjMX_KZSmA6F-14&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.0877&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-27&quot; y=&quot;5&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-16&quot; value=&quot;1&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;B5AFUQwHSjMX_KZSmA6F-14&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.7679&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-17&quot; y=&quot;1&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-19&quot; value=&quot;Factory Pattern&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;1086.2499999999998&quot; y=&quot;410&quot; width=&quot;100&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-21&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;i&amp;gt;&amp;lt;b&amp;gt;NotificationGenerator&amp;amp;lt;T&amp;amp;gt; {abstract}&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;div&amp;gt;&amp;amp;nbsp;# REPOSITORY: NotificationTaskRepository {readOnly}&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;nbsp;- SEND_STRATEGY: NotificationSendStrategy {readOnly}&amp;lt;i&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ NotificationGenerator(sendStrategy, repository)&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ generate(account: AccountBase, context: T): NotificationTask&amp;lt;br&amp;gt;&amp;lt;i&amp;gt;# generateTitle(context: T): String {abstract}&amp;lt;br&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;&amp;lt;i&amp;gt;# generateMessage(context: T): String {abstract}&amp;lt;br&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;&amp;lt;i&amp;gt;# determineScheduleDateTime(context: T): LocalDateTime {abstract}&amp;lt;/i&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;&amp;lt;i&amp;gt;# generateStoreStrategy(context: T): NotificationTaskStoreStrategy&amp;lt;br&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;-80&quot; y=&quot;-400&quot; width=&quot;560&quot; height=&quot;170&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-22&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;ReturnDateNotificationTaskGenerator&amp;amp;lt;ReturnDateNotificationTaskContext&amp;amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ ReturnDateNotificationTaskGenerator(sendStrategy, repository)&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;# generateTitle(lending)&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;# generateMessage(lending)&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;# determineScheduleDateTime(lending)&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;# generateStoreStrategy(lending)&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;-80&quot; y=&quot;-130&quot; width=&quot;560&quot; height=&quot;170&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-24&quot; value=&quot;&quot; style=&quot;endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;B5AFUQwHSjMX_KZSmA6F-22&quot; target=&quot;B5AFUQwHSjMX_KZSmA6F-21&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;370&quot; y=&quot;235&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;557&quot; y=&quot;95&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;B5AFUQwHSjMX_KZSmA6F-25&quot; value=&quot;&quot; style=&quot;endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;8CZ1z92vLOjwAlKg1PTv-53&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;880&quot; y=&quot;-450&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;880&quot; y=&quot;-284&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;0sfBGPAyanVkTX-WtbN7-0&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;ReminderSendNotificationStrategy&amp;lt;/b&amp;gt;&amp;lt;i&amp;gt;&amp;lt;b&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- channels: []Notifier&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ ReminderNotificationStrategy()&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;1019.9999999999998&quot; y=&quot;-810&quot; width=&quot;342.5&quot; height=&quot;90&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;0sfBGPAyanVkTX-WtbN7-1&quot; value=&quot;Extends&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;0sfBGPAyanVkTX-WtbN7-0&quot; target=&quot;8CZ1z92vLOjwAlKg1PTv-53&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;990&quot; y=&quot;-530&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;1149.9999999999998&quot; y=&quot;-530&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;0sfBGPAyanVkTX-WtbN7-2&quot; value=&quot;Extends&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;0sfBGPAyanVkTX-WtbN7-3&quot; target=&quot;8CZ1z92vLOjwAlKg1PTv-53&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;930&quot; y=&quot;-650&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;1016.9999999999998&quot; y=&quot;-550&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;0sfBGPAyanVkTX-WtbN7-3&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;WarningSendNotificationStrategy&amp;lt;/b&amp;gt;&amp;lt;i&amp;gt;&amp;lt;b&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- channels: []Notifier&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ WarningNotificationStrategy()&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;783.75&quot; y=&quot;-960&quot; width=&quot;342.5&quot; height=&quot;90&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;0sfBGPAyanVkTX-WtbN7-4&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;AlertSendNotificationStrategy&amp;lt;/b&amp;gt;&amp;lt;i&amp;gt;&amp;lt;b&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- channels: []Notifier&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ AlertNotificationStrategy()&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;562.5000000000001&quot; y=&quot;-810&quot; width=&quot;342.5&quot; height=&quot;90&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;0sfBGPAyanVkTX-WtbN7-5&quot; value=&quot;Extends&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;0sfBGPAyanVkTX-WtbN7-4&quot; target=&quot;8CZ1z92vLOjwAlKg1PTv-53&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;965&quot; y=&quot;-840&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;965&quot; y=&quot;-550&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;0sfBGPAyanVkTX-WtbN7-7&quot; value=&quot;Composite Pattern?&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;895&quot; y=&quot;-450&quot; width=&quot;120&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;0sfBGPAyanVkTX-WtbN7-8&quot; value=&quot;Strategy Pattern&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;905&quot; y=&quot;-650&quot; width=&quot;100&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;FVzwhQS9PQSuDSApWAIn-0&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;&amp;lt;i&amp;gt;ChannelNotifier&amp;lt;/i&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- MAXIMUM_AMOUNT_OF_ATTEMPTS: byte&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ ChannelNotifier(byte maximumAmountOfAttempts): ChannelNotifier&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ ChannelNotifier(): ChannelNotifier&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ send(task: NotificationTask): void&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;&amp;lt;i&amp;gt;# attempt(task: NotificationTask): void {abstract} {exception Exception}&amp;lt;/i&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- send(task: NotificationTask, amountOfAttempts: byte): void&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- handleSendingError(task: NotificationTask, amountOfAttempts: byte): void&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- logFailedSending(task: NotificationTask): void&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;756.2500000000001&quot; y=&quot;-130&quot; width=&quot;397.5&quot; height=&quot;170&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;FVzwhQS9PQSuDSApWAIn-2&quot; value=&quot;Extends&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;8CZ1z92vLOjwAlKg1PTv-36&quot; target=&quot;FVzwhQS9PQSuDSApWAIn-0&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;610.0000000000001&quot; y=&quot;-284&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;746.0000000000001&quot; y=&quot;-124&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;FVzwhQS9PQSuDSApWAIn-4&quot; value=&quot;&quot; style=&quot;endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;FVzwhQS9PQSuDSApWAIn-0&quot; target=&quot;8CZ1z92vLOjwAlKg1PTv-35&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;810&quot; y=&quot;-110&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;890&quot; y=&quot;50&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;FVzwhQS9PQSuDSApWAIn-5&quot; value=&quot;Extends&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;8CZ1z92vLOjwAlKg1PTv-37&quot; target=&quot;FVzwhQS9PQSuDSApWAIn-0&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;736.0000000000001&quot; y=&quot;180&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;894&quot; y=&quot;80&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;8CZ1z92vLOjwAlKg1PTv-52&quot; value=&quot;Strategy Pattern&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;840&quot; y=&quot;90&quot; width=&quot;100&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;FVzwhQS9PQSuDSApWAIn-6&quot; value=&quot;Extends&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;8CZ1z92vLOjwAlKg1PTv-38&quot; target=&quot;FVzwhQS9PQSuDSApWAIn-0&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;736.0000000000001&quot; y=&quot;180&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;894&quot; y=&quot;80&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;FVzwhQS9PQSuDSApWAIn-13&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;NotificationTaskScheduler&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- SCHEDULER: TaskScheduler {readOnly}&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- REPOSITORY: NotificationTaskRepository {readOnly}&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- RETRIEVE_INTERVAL: Duration {readOnly}&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- handledManually: HashSet&amp;amp;lt;NotificationTask&amp;amp;gt; {readOnly}&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ NotificationTaskScheduler(scheduler: TaskScheduler): NotificationTaskScheduler&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ schedule(task: NotificationTask): void&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- shouldScheduleInMemory(task: NotificationTask): boolean&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- scheduleDirectlyInMemory(task: NotificationTask): void&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- startSchedulingFromDatabase(): void&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- scheduleFromDatabase(): void&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- getScheduledUntilDateTime(): LocalDateTime&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- isHandledManually(task: NotificationTask): bool&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- scheduleInMemory(task: NotificationTask): void&amp;lt;/p&amp;gt;&amp;lt;div&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;-1490&quot; y=&quot;-719&quot; width=&quot;440&quot; height=&quot;240&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;FVzwhQS9PQSuDSApWAIn-14&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;NotificationTaskRepository&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ storeLendingAssociated(lending: LendingBase, task: NotificationTask): void&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ retrieve(scheduledUntil: LocalDateTime): NotificationTask[]&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;-780&quot; y=&quot;-380&quot; width=&quot;430&quot; height=&quot;130&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-2&quot; value=&quot;Template Method Pattern&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;110&quot; y=&quot;-180&quot; width=&quot;65&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-4&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;TaskScheduler&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;amp;nbsp;- SCHEDULER: ScheduledExecutorService {readOnly}&amp;lt;br&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ TaskScheduler(threadAmount: int): TaskScheduler&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ schedule(task: Runnable, scheduledAt: LocalDateTime): void&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- scheduleRecurring(task: Runnable, interval: Duration): void&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- calculateRelativeScheduleTime(LocalDateTime scheduledAt): long&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;-2000&quot; y=&quot;-664&quot; width=&quot;360&quot; height=&quot;130&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-5&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;i&amp;gt;&amp;amp;lt;&amp;amp;lt;Interface&amp;amp;gt;&amp;amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;ScheduledExecutorService&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;-1953.5&quot; y=&quot;-300&quot; width=&quot;267&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-6&quot; value=&quot;&quot; style=&quot;endArrow=open;endFill=1;endSize=12;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;MYQSrZgurW9zKi5uDUtO-4&quot; target=&quot;MYQSrZgurW9zKi5uDUtO-5&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-1243&quot; y=&quot;590&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;-1083&quot; y=&quot;590&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-7&quot; value=&quot;SCHEDULER&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;MYQSrZgurW9zKi5uDUtO-6&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.163&quot; y=&quot;-1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-8&quot; value=&quot;1&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;MYQSrZgurW9zKi5uDUtO-6&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.7307&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;15&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-11&quot; value=&quot;Adapter Pattern&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;-1790&quot; y=&quot;-534&quot; width=&quot;100&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-12&quot; value=&quot;&quot; style=&quot;endArrow=open;endFill=1;endSize=12;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;FVzwhQS9PQSuDSApWAIn-13&quot; target=&quot;MYQSrZgurW9zKi5uDUtO-4&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-1153&quot; y=&quot;321&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;-993&quot; y=&quot;321&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-13&quot; value=&quot;SCHEDULER&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;MYQSrZgurW9zKi5uDUtO-12&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;-0.3749&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-14&quot; value=&quot;1&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;MYQSrZgurW9zKi5uDUtO-12&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.5027&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-16&quot; value=&quot;&quot; style=&quot;endArrow=open;endFill=1;endSize=12;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;FVzwhQS9PQSuDSApWAIn-13&quot; target=&quot;FVzwhQS9PQSuDSApWAIn-14&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-1463&quot; y=&quot;-119&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;-1303&quot; y=&quot;-119&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-17&quot; value=&quot;REPOSITORY&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;MYQSrZgurW9zKi5uDUtO-16&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.2116&quot; y=&quot;3&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-18&quot; value=&quot;1&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;MYQSrZgurW9zKi5uDUtO-16&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.8011&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-23&quot; value=&quot;&quot; style=&quot;endArrow=open;endFill=1;endSize=12;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;B5AFUQwHSjMX_KZSmA6F-0&quot; target=&quot;FVzwhQS9PQSuDSApWAIn-13&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-800&quot; y=&quot;-170&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;-640&quot; y=&quot;-170&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-24&quot; value=&quot;SCHEDULER&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;MYQSrZgurW9zKi5uDUtO-23&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;-0.1422&quot; y=&quot;-1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-25&quot; value=&quot;1&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;MYQSrZgurW9zKi5uDUtO-23&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.8213&quot; y=&quot;2&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint y=&quot;-1&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-26&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;NotificationTaskFactory&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;- RETURN_DATE_TASK_GENERATOR: ReturnDateNotificationTaskGenerator {readOnly}&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ createReturnDateNotificationTask(account: AccountBase, lending: Lending): NotificationTask&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;-1605&quot; y=&quot;-90&quot; width=&quot;670&quot; height=&quot;90&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-27&quot; value=&quot;&quot; style=&quot;endArrow=open;endFill=1;endSize=12;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;B5AFUQwHSjMX_KZSmA6F-0&quot; target=&quot;MYQSrZgurW9zKi5uDUtO-26&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-856&quot; y=&quot;602.11&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;-696&quot; y=&quot;602.11&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-28&quot; value=&quot;TASK_FACTORY&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;MYQSrZgurW9zKi5uDUtO-27&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.3246&quot; y=&quot;4&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-29&quot; value=&quot;1&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;MYQSrZgurW9zKi5uDUtO-27&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.8839&quot; y=&quot;-1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-30&quot; value=&quot;&quot; style=&quot;endArrow=open;endFill=1;endSize=12;html=1;rounded=0;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;MYQSrZgurW9zKi5uDUtO-26&quot; target=&quot;B5AFUQwHSjMX_KZSmA6F-22&quot; edge=&quot;1&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-270&quot; y=&quot;180&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;-110&quot; y=&quot;180&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-31&quot; value=&quot;RETURN_DATE_TASK_GENERATOR&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;MYQSrZgurW9zKi5uDUtO-30&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;-0.0191&quot; y=&quot;-2&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint y=&quot;1&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;MYQSrZgurW9zKi5uDUtO-32&quot; value=&quot;1&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;MYQSrZgurW9zKi5uDUtO-30&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.7977&quot; y=&quot;2&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;J48WhFvol9g6ULd1788P-1&quot; value=&quot;&quot; style=&quot;endArrow=open;endFill=1;endSize=12;html=1;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;B5AFUQwHSjMX_KZSmA6F-21&quot; target=&quot;FVzwhQS9PQSuDSApWAIn-14&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-110&quot; y=&quot;-380&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;50&quot; y=&quot;-380&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;J48WhFvol9g6ULd1788P-2&quot; value=&quot;REPOSITORY&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;J48WhFvol9g6ULd1788P-1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;-0.3223&quot; y=&quot;2&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-54&quot; y=&quot;-22&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;J48WhFvol9g6ULd1788P-3&quot; value=&quot;1&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;J48WhFvol9g6ULd1788P-1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.6272&quot; y=&quot;1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;J48WhFvol9g6ULd1788P-4&quot; value=&quot;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;i&amp;gt;&amp;amp;lt;&amp;amp;lt;Interface&amp;amp;gt;&amp;amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-top:4px;text-align:center;&amp;quot;&amp;gt;&amp;lt;b&amp;gt;NotificationTaskStoreStrategy&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;hr size=&amp;quot;1&amp;quot; style=&amp;quot;border-style:solid;&amp;quot;&amp;gt;&amp;lt;p style=&amp;quot;margin:0px;margin-left:4px;&amp;quot;&amp;gt;+ store(task: NotificationTask): void&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;-380&quot; y=&quot;-637.5&quot; width=&quot;190&quot; height=&quot;85&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;J48WhFvol9g6ULd1788P-5&quot; value=&quot;&quot; style=&quot;endArrow=open;endFill=1;endSize=12;html=1;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;B5AFUQwHSjMX_KZSmA6F-21&quot; target=&quot;8CZ1z92vLOjwAlKg1PTv-53&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;600&quot; y=&quot;-380&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;760&quot; y=&quot;-380&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;J48WhFvol9g6ULd1788P-6&quot; value=&quot;SEND_STRATEGY&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;J48WhFvol9g6ULd1788P-5&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;-0.1732&quot; y=&quot;3&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;J48WhFvol9g6ULd1788P-7&quot; value=&quot;1&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;J48WhFvol9g6ULd1788P-5&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.7385&quot; y=&quot;1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;J48WhFvol9g6ULd1788P-8&quot; value=&quot;&quot; style=&quot;endArrow=open;endFill=1;endSize=12;html=1;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;B5AFUQwHSjMX_KZSmA6F-3&quot; target=&quot;J48WhFvol9g6ULd1788P-4&quot;&gt;&#xA;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-112&quot; y=&quot;-170&quot; as=&quot;sourcePoint&quot; /&gt;&#xA;            &lt;mxPoint x=&quot;-350&quot; y=&quot;-260&quot; as=&quot;targetPoint&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;J48WhFvol9g6ULd1788P-9&quot; value=&quot;STORE_STRATEGY&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;J48WhFvol9g6ULd1788P-8&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;-0.3223&quot; y=&quot;2&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint x=&quot;-54&quot; y=&quot;-22&quot; as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;J48WhFvol9g6ULd1788P-10&quot; value=&quot;1&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;J48WhFvol9g6ULd1788P-8&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;0.6272&quot; y=&quot;1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#xA;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#xA;          &lt;/mxGeometry&gt;&#xA;        &lt;/mxCell&gt;&#xA;        &lt;mxCell id=&quot;J48WhFvol9g6ULd1788P-12&quot; value=&quot;&amp;lt;div&amp;gt;Issues:&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;b&amp;gt;- A NotificationTask needs to be serialized from the db&amp;lt;/b&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;b&amp;gt;&amp;lt;span style=&amp;quot;white-space: pre;&amp;quot;&amp;gt;&amp;#x9;&amp;lt;/span&amp;gt;- The storeStrategy is dynamically determined and can&amp;#39;t be stored in the db.&amp;lt;/b&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;span style=&amp;quot;white-space: pre;&amp;quot;&amp;gt;&amp;#x9;&amp;lt;/span&amp;gt;- sendStrategy will need to be dynamically determined&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;b&amp;gt;- Currently the actual senders (ChannelNotifier&amp;#39;s) don&amp;#39;t have a way of getting the required&amp;lt;/b&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;b&amp;gt;contact details.&amp;lt;/b&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;b&amp;gt;- &amp;lt;/b&amp;gt;Need more actual notification task generators to truly make sure there aren&amp;#39;t any other problems.&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;- Testability need to be improved&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot;&gt;&#xA;          &lt;mxGeometry x=&quot;-930&quot; y=&quot;-1075&quot; width=&quot;490&quot; height=&quot;130&quot; as=&quot;geometry&quot; /&gt;&#xA;        &lt;/mxCell&gt;&#xA;      &lt;/root&gt;&#xA;    &lt;/mxGraphModel&gt;&#xA;  &lt;/diagram&gt;&#xA;&lt;/mxfile&gt;&#xA;"><defs/><g><g data-cell-id="WIyWlLk6GJQsqaUBKTNV-0"><g data-cell-id="WIyWlLk6GJQsqaUBKTNV-1"><g data-cell-id="8CZ1z92vLOjwAlKg1PTv-35"><g><rect x="2817.5" y="791" width="275" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 277px; height: 80px; padding-top: 791px; margin-left: 2818px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 275px; height: 80px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><i>&lt;&lt;Interface&gt;&gt;</i></p><p style="margin:0px;margin-top:4px;text-align:center;"><b>Notifier</b></p><hr style="border-style:solid;" size="1" /><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ send(notificationTask): void<br /><br /></p></div></div></div></foreignObject><text x="2818" y="803" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">&lt;&lt;Interface&gt;&gt;...</text></switch></g></g></g><g data-cell-id="8CZ1z92vLOjwAlKg1PTv-36"><g><rect x="2520" y="1245" width="270" height="110" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 272px; height: 110px; padding-top: 1245px; margin-left: 2520px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 270px; height: 110px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><b>EmailNotifier</b></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;"><br /></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ EmailNotifier(): EmailNotifier<br /></p><p style="margin:0px;margin-left:4px;">+ attempt(task: NotificationTask): void {Exception}</p><p style="margin:0px;margin-left:4px;"><br /></p></div></div></div></foreignObject><text x="2520" y="1257" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">EmailNotifier...</text></switch></g></g></g><g data-cell-id="8CZ1z92vLOjwAlKg1PTv-37"><g><rect x="2820" y="1245" width="270" height="110" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 272px; height: 110px; padding-top: 1245px; margin-left: 2820px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 270px; height: 110px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><b>SMSNotifier</b><br /></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;"><br /></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ SMSNotifier(): SMSNotifier<br /></p><p style="margin:0px;margin-left:4px;">+ attempt(task: NotificationTask): void {Exception}</p><p style="margin:0px;margin-left:4px;"><br /></p><p style="margin:0px;margin-left:4px;"></p></div></div></div></foreignObject><text x="2820" y="1257" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">SMSNotifier...</text></switch></g></g></g><g data-cell-id="8CZ1z92vLOjwAlKg1PTv-38"><g><rect x="3110" y="1245" width="280" height="110" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 282px; height: 110px; padding-top: 1245px; margin-left: 3110px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 280px; height: 110px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><b>AppNotifier</b></p><hr style="border-style:solid;" size="1" /><div><br /></div><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ AppNotifier(): AppNotifier<br /></p><p style="margin:0px;margin-left:4px;">+ attempt(task: NotificationTask): void {Exception}</p><p style="margin:0px;margin-left:4px;"></p></div></div></div></foreignObject><text x="3110" y="1257" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">AppNotifier...</text></switch></g></g></g><g data-cell-id="8CZ1z92vLOjwAlKg1PTv-53"><g><rect x="2823.75" y="515" width="262.5" height="110" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 265px; height: 110px; padding-top: 515px; margin-left: 2824px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 263px; height: 110px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><i><b>NotificationSendStrategy</b><b><br /></b></i></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">- channels: []Notifier<br /></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ NotificationStrategy(channels: []Notifier)<br />+ send(notificationTask): void<br /></p></div></div></div></foreignObject><text x="2824" y="527" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">NotificationSendStrategy...</text></switch></g></g></g><g data-cell-id="8CZ1z92vLOjwAlKg1PTv-66"><g><path d="M 2971.18 625 L 3019.37 788.85" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3009.78 779.29 L 3019.68 789.93 L 3022.25 775.62" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="8CZ1z92vLOjwAlKg1PTv-67"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 757px; margin-left: 2999px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">channels</div></div></div></foreignObject><text x="2999" y="760" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">channels</text></switch></g></g></g><g data-cell-id="8CZ1z92vLOjwAlKg1PTv-68"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 783px; margin-left: 3037px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1 ... *</div></div></div></foreignObject><text x="3037" y="787" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">1 ... *</text></switch></g></g></g></g><g data-cell-id="H1KFxOfMTo0-6KyfxNhI-1"><g><path d="M 2376.25 500.43 L 2821.53 553.96" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2808.96 558.99 L 2822.64 554.09 L 2810.51 546.09" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="H1KFxOfMTo0-6KyfxNhI-2"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 536px; margin-left: 2594px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">SEND_ STRATEGY</div></div></div></foreignObject><text x="2594" y="539" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">SEND_ STRATEGY</text></switch></g></g></g><g data-cell-id="H1KFxOfMTo0-6KyfxNhI-3"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 534px; margin-left: 2771px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="2771" y="537" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">1</text></switch></g></g></g></g><g data-cell-id="f5qeIdJVCtiyw4lMuLqa-0"><g><rect x="1880" y="225" width="240" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 80px; padding-top: 225px; margin-left: 1880px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 80px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><b>AccountBase<br /></b></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ ID {readOnly}<br /></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;"><br /></p></div></div></div></foreignObject><text x="1880" y="237" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">AccountBase...</text></switch></g></g></g><g data-cell-id="f5qeIdJVCtiyw4lMuLqa-1"><g><path d="M 2124.71 395 L 2039.92 306.61" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2052.84 310.69 L 2039.15 305.81 L 2043.45 319.69" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="f5qeIdJVCtiyw4lMuLqa-2"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 352px; margin-left: 2052px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ACCOUNT</div></div></div></foreignObject><text x="2052" y="356" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">ACCOUNT</text></switch></g></g></g><g data-cell-id="f5qeIdJVCtiyw4lMuLqa-3"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 319px; margin-left: 2061px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="2061" y="322" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">1</text></switch></g></g></g></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-0"><g><rect x="400" y="715" width="660" height="110" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 662px; height: 110px; padding-top: 715px; margin-left: 400px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 660px; height: 110px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><b>NotificationService<br /></b></p><hr style="border-style:solid;" size="1" /><div> - TASK_FACTORY: NotificationTaskFactory {readOnly}</div><div> - SCHEDULER: NotificationTaskScheduler {readOnly}<br /></div><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ scheduleNewLendingBundle(account: AccountBase, lending: Lending): void<br /></p><p style="margin:0px;margin-left:4px;">- scheduleReturnDateNotification(account: AccountBase, lending: Lending): void<br /></p></div></div></div></foreignObject><text x="400" y="727" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">NotificationService...</text></switch></g></g></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-2"><g><rect x="2290" y="225" width="220" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 222px; height: 100px; padding-top: 225px; margin-left: 2290px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 220px; height: 100px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><b>Notification<br /></b></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ title: String {readOnly}<br /></p><p style="margin:0px;margin-left:4px;">+ message: String {readOnly}<br /></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;"><br /></p></div></div></div></foreignObject><text x="2290" y="237" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">Notification...</text></switch></g></g></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-3"><g><rect x="2036.25" y="395" width="340" height="170" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 342px; height: 170px; padding-top: 395px; margin-left: 2036px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 340px; height: 170px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><b>NotificationTask&lt;T&gt;<br /></b></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ NOTIFICATION: Notification {readOnly}<br /></p><p style="margin:0px;margin-left:4px;">+ SEND_STRATEGY: NotificationStrategy {readOnly}<br /></p><p style="margin:0px;margin-left:4px;">+ SCHEDULED_AT: LocalDateTime {readOnly}<br /></p><p style="margin:0px;margin-left:4px;">+ ACCOUNT: AccountBase {readOnly}</p><p style="margin:0px;margin-left:4px;">+ STORE_STRATEGY: NotificationTaskStoreStrategy {readOnly}<br /></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ isScheduledBefore(LocalDateTime): bool</p><p style="margin:0px;margin-left:4px;">+ store(): void</p><p style="margin:0px;margin-left:4px;">+ send(): void<br /></p></div></div></div></foreignObject><text x="2036" y="407" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">NotificationTask&lt;T&gt;...</text></switch></g></g></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-4"><g><path d="M 2286.59 395 L 2351.21 326.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2347.77 339.73 L 2351.98 325.81 L 2338.32 330.8" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-5"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 363px; margin-left: 2297px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">NOTIFICATION</div></div></div></foreignObject><text x="2297" y="366" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">NOTIFICATION</text></switch></g></g></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-6"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 345px; margin-left: 2368px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="2368" y="348" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">1</text></switch></g></g></g></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-7"><g><rect x="2823.75" y="1415" width="262.5" height="140" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 265px; height: 140px; padding-top: 1415px; margin-left: 2824px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 263px; height: 140px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><b>NotificationStrategy</b><b>Factory<br /></b></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">- emailNotifier</p><p style="margin:0px;margin-left:4px;">- smsNotifier</p><p style="margin:0px;margin-left:4px;">- appNotifier<br /></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ createAlertStrategy(): NotificationStrategy</p><p style="margin:0px;margin-left:4px;">+ createWarningStrategy(): NotificationStrategy</p><p style="margin:0px;margin-left:4px;">+ createReminderStrategy(): NotificationStrategy<br /></p></div></div></div></foreignObject><text x="2824" y="1427" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">NotificationStrategyFactory...</text></switch></g></g></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-8"><g><path d="M 2841.49 1415 L 2746.09 1356.17" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2759.62 1356.88 L 2745.14 1355.59 L 2752.79 1367.94" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-9"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1388px; margin-left: 2763px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">emailNotifier</div></div></div></foreignObject><text x="2763" y="1392" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">emailNotifier</text></switch></g></g></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-10"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1363px; margin-left: 2739px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="2739" y="1367" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">1</text></switch></g></g></g></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-11"><g><path d="M 2955 1415 L 2955 1357.24" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2961.5 1369.12 L 2955 1356.12 L 2948.5 1369.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-12"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1388px; margin-left: 2929px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">smsNotifier</div></div></div></foreignObject><text x="2929" y="1391" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">smsNotifier</text></switch></g></g></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-13"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1364px; margin-left: 2939px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="2939" y="1367" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">1</text></switch></g></g></g></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-14"><g><path d="M 3066.62 1415 L 3160.4 1356.19" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3153.79 1368.01 L 3161.35 1355.59 L 3146.88 1356.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-15"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1388px; margin-left: 3093px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">appNotifier</div></div></div></foreignObject><text x="3093" y="1391" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">appNotifier</text></switch></g></g></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-16"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1364px; margin-left: 3135px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="3135" y="1367" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">1</text></switch></g></g></g></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-19"><g><rect x="3086.25" y="1485" width="100" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1500px; margin-left: 3136px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Factory Pattern</div></div></div></foreignObject><text x="3136" y="1504" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Factory Pattern</text></switch></g></g></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-21"><g><rect x="1920" y="675" width="560" height="170" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 562px; height: 170px; padding-top: 675px; margin-left: 1920px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 560px; height: 170px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><b></b></p><p style="margin:0px;margin-top:4px;text-align:center;"><i><b>NotificationGenerator&lt;T&gt; {abstract}<br /></b></i></p><hr style="border-style:solid;" size="1" /><div> # REPOSITORY: NotificationTaskRepository {readOnly}</div><div> - SEND_STRATEGY: NotificationSendStrategy {readOnly}<i><br /></i></div><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ NotificationGenerator(sendStrategy, repository)<br /></p><p style="margin:0px;margin-left:4px;">+ generate(account: AccountBase, context: T): NotificationTask<br /><i># generateTitle(context: T): String {abstract}<br /></i></p><p style="margin:0px;margin-left:4px;"><i># generateMessage(context: T): String {abstract}<br /></i></p><p style="margin:0px;margin-left:4px;"><i># determineScheduleDateTime(context: T): LocalDateTime {abstract}</i></p><p style="margin:0px;margin-left:4px;"><i># generateStoreStrategy(context: T): NotificationTaskStoreStrategy<br /></i></p></div></div></div></foreignObject><text x="1920" y="687" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">NotificationGenerator&lt;T&gt; {abstract}...</text></switch></g></g></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-22"><g><rect x="1920" y="945" width="560" height="170" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 562px; height: 170px; padding-top: 945px; margin-left: 1920px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 560px; height: 170px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><b>ReturnDateNotificationTaskGenerator&lt;ReturnDateNotificationTaskContext&gt;<br /></b></p><hr style="border-style:solid;" size="1" /><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ ReturnDateNotificationTaskGenerator(sendStrategy, repository)<br /></p><p style="margin:0px;margin-left:4px;"># generateTitle(lending)<br /></p><p style="margin:0px;margin-left:4px;"># generateMessage(lending)</p><p style="margin:0px;margin-left:4px;"># determineScheduleDateTime(lending)</p><p style="margin:0px;margin-left:4px;"># generateStoreStrategy(lending)<br /></p></div></div></div></foreignObject><text x="1920" y="957" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">ReturnDateNotificationTaskGenerator&lt;ReturnDateNotificationTaskContext&gt;...</text></switch></g></g></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-24"><g><path d="M 2200 945 L 2200 859.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2200 846.12 L 2206.5 859.12 L 2193.5 859.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g></g><g data-cell-id="B5AFUQwHSjMX_KZSmA6F-25"><g><path d="M 2936.33 625 L 2884.54 777.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2880.36 789.94 L 2878.38 775.54 L 2890.69 779.72 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g></g><g data-cell-id="0sfBGPAyanVkTX-WtbN7-0"><g><rect x="3020" y="265" width="342.5" height="90" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 345px; height: 90px; padding-top: 265px; margin-left: 3020px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 343px; height: 90px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><b>ReminderSendNotificationStrategy</b><i><b><br /></b></i></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">- channels: []Notifier<br /></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ ReminderNotificationStrategy()<br /></p></div></div></div></foreignObject><text x="3020" y="277" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">ReminderSendNotificationStrategy...</text></switch></g></g></g><g data-cell-id="0sfBGPAyanVkTX-WtbN7-1"><g><path d="M 3150.36 355 L 3017.16 501.59" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3005.73 514.17 L 3010.87 495.87 L 3023.45 507.31 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 434px; margin-left: 3078px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Extends</div></div></div></foreignObject><text x="3078" y="438" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">Extends</text></switch></g></g></g><g data-cell-id="0sfBGPAyanVkTX-WtbN7-2"><g><path d="M 2955 205 L 2955 496.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2955 513.88 L 2946.5 496.88 L 2963.5 496.88 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 360px; margin-left: 2955px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Extends</div></div></div></foreignObject><text x="2955" y="363" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">Extends</text></switch></g></g></g><g data-cell-id="0sfBGPAyanVkTX-WtbN7-3"><g><rect x="2783.75" y="115" width="342.5" height="90" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 345px; height: 90px; padding-top: 115px; margin-left: 2784px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 343px; height: 90px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><b>WarningSendNotificationStrategy</b><i><b><br /></b></i></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">- channels: []Notifier<br /></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ WarningNotificationStrategy()<br /></p></div></div></div></foreignObject><text x="2784" y="127" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">WarningSendNotificationStrategy...</text></switch></g></g></g><g data-cell-id="0sfBGPAyanVkTX-WtbN7-4"><g><rect x="2562.5" y="265" width="342.5" height="90" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 345px; height: 90px; padding-top: 265px; margin-left: 2563px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 343px; height: 90px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><b>AlertSendNotificationStrategy</b><i><b><br /></b></i></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">- channels: []Notifier<br /></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ AlertNotificationStrategy()<br /></p></div></div></div></foreignObject><text x="2563" y="277" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">AlertSendNotificationStrategy...</text></switch></g></g></g><g data-cell-id="0sfBGPAyanVkTX-WtbN7-5"><g><path d="M 2772.04 355 L 2896.46 501.2" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2907.47 514.15 L 2889.98 506.71 L 2902.93 495.69 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 435px; margin-left: 2840px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Extends</div></div></div></foreignObject><text x="2840" y="439" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">Extends</text></switch></g></g></g><g data-cell-id="0sfBGPAyanVkTX-WtbN7-7"><g><rect x="2895" y="625" width="120" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 640px; margin-left: 2955px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Composite Pattern?</div></div></div></foreignObject><text x="2955" y="644" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Composite Pattern?</text></switch></g></g></g><g data-cell-id="0sfBGPAyanVkTX-WtbN7-8"><g><rect x="2905" y="425" width="100" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 440px; margin-left: 2955px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Strategy Pattern</div></div></div></foreignObject><text x="2955" y="444" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Strategy Pattern</text></switch></g></g></g><g data-cell-id="FVzwhQS9PQSuDSApWAIn-0"><g><rect x="2756.25" y="945" width="397.5" height="170" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 400px; height: 170px; padding-top: 945px; margin-left: 2756px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 398px; height: 170px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><b><i>ChannelNotifier</i></b><br /></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">- MAXIMUM_AMOUNT_OF_ATTEMPTS: byte<br /></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ ChannelNotifier(byte maximumAmountOfAttempts): ChannelNotifier</p><p style="margin:0px;margin-left:4px;">+ ChannelNotifier(): ChannelNotifier<br /></p><p style="margin:0px;margin-left:4px;">+ send(task: NotificationTask): void</p><p style="margin:0px;margin-left:4px;"><i># attempt(task: NotificationTask): void {abstract} {exception Exception}</i><br /></p><p style="margin:0px;margin-left:4px;">- send(task: NotificationTask, amountOfAttempts: byte): void</p><p style="margin:0px;margin-left:4px;">- handleSendingError(task: NotificationTask, amountOfAttempts: byte): void</p><p style="margin:0px;margin-left:4px;">- logFailedSending(task: NotificationTask): void<br /></p><p style="margin:0px;margin-left:4px;"><br /></p><p style="margin:0px;margin-left:4px;"></p></div></div></div></foreignObject><text x="2756" y="957" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">ChannelNotifier...</text></switch></g></g></g><g data-cell-id="FVzwhQS9PQSuDSApWAIn-2"><g><path d="M 2716.11 1245 L 2847.09 1127.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2859.72 1115.75 L 2852.77 1133.44 L 2841.4 1120.8 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1181px; margin-left: 2788px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Extends</div></div></div></foreignObject><text x="2788" y="1184" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">Extends</text></switch></g></g></g><g data-cell-id="FVzwhQS9PQSuDSApWAIn-4"><g><path d="M 2955 945 L 2955 885.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2955 872.12 L 2961.5 885.12 L 2948.5 885.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g></g><g data-cell-id="FVzwhQS9PQSuDSApWAIn-5"><g><path d="M 2955 1245 L 2955 1133.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2955 1116.12 L 2963.5 1133.12 L 2946.5 1133.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1180px; margin-left: 2955px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Extends</div></div></div></foreignObject><text x="2955" y="1183" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">Extends</text></switch></g></g></g><g data-cell-id="8CZ1z92vLOjwAlKg1PTv-52"><g><rect x="2840" y="1165" width="100" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1180px; margin-left: 2890px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Strategy Pattern</div></div></div></foreignObject><text x="2890" y="1184" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Strategy Pattern</text></switch></g></g></g><g data-cell-id="FVzwhQS9PQSuDSApWAIn-6"><g><path d="M 3189.91 1245 L 3061.24 1127.23" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3048.7 1115.75 L 3066.97 1120.96 L 3055.5 1133.5 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1180px; margin-left: 3119px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Extends</div></div></div></foreignObject><text x="3119" y="1183" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">Extends</text></switch></g></g></g><g data-cell-id="FVzwhQS9PQSuDSApWAIn-13"><g><rect x="510" y="356" width="440" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 240px; padding-top: 356px; margin-left: 510px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 240px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><b>NotificationTaskScheduler</b></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">- SCHEDULER: TaskScheduler {readOnly}</p><p style="margin:0px;margin-left:4px;">- REPOSITORY: NotificationTaskRepository {readOnly}<br /></p><p style="margin:0px;margin-left:4px;">- RETRIEVE_INTERVAL: Duration {readOnly}</p><p style="margin:0px;margin-left:4px;">- handledManually: HashSet&lt;NotificationTask&gt; {readOnly}<br /></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ NotificationTaskScheduler(scheduler: TaskScheduler): NotificationTaskScheduler<br /></p><p style="margin:0px;margin-left:4px;">+ schedule(task: NotificationTask): void<br /></p><p style="margin:0px;margin-left:4px;">- shouldScheduleInMemory(task: NotificationTask): boolean</p><p style="margin:0px;margin-left:4px;">- scheduleDirectlyInMemory(task: NotificationTask): void</p><p style="margin:0px;margin-left:4px;">- startSchedulingFromDatabase(): void<br /></p><p style="margin:0px;margin-left:4px;">- scheduleFromDatabase(): void</p><p style="margin:0px;margin-left:4px;">- getScheduledUntilDateTime(): LocalDateTime</p><p style="margin:0px;margin-left:4px;">- isHandledManually(task: NotificationTask): bool</p><p style="margin:0px;margin-left:4px;"></p><p style="margin:0px;margin-left:4px;">- scheduleInMemory(task: NotificationTask): void</p><div><br /></div><div><br /></div></div></div></div></foreignObject><text x="510" y="368" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">NotificationTaskScheduler...</text></switch></g></g></g><g data-cell-id="FVzwhQS9PQSuDSApWAIn-14"><g><rect x="1220" y="695" width="430" height="130" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 432px; height: 130px; padding-top: 695px; margin-left: 1220px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 430px; height: 130px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><b>NotificationTaskRepository</b></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;"><br /></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ storeLendingAssociated(lending: LendingBase, task: NotificationTask): void</p><p style="margin:0px;margin-left:4px;">+ retrieve(scheduledUntil: LocalDateTime): NotificationTask[]<br /></p></div></div></div></foreignObject><text x="1220" y="707" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">NotificationTaskRepository...</text></switch></g></g></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-2"><g><rect x="2110" y="895" width="65" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 63px; height: 1px; padding-top: 910px; margin-left: 2111px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Template Method Pattern</div></div></div></foreignObject><text x="2143" y="914" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Template Me...</text></switch></g></g></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-4"><g><rect x="0" y="411" width="360" height="130" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 130px; padding-top: 411px; margin-left: 0px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 130px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><b>TaskScheduler</b></p><hr style="border-style:solid;" size="1" /> - SCHEDULER: ScheduledExecutorService {readOnly}<br /><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ TaskScheduler(threadAmount: int): TaskScheduler<br /></p><p style="margin:0px;margin-left:4px;">+ schedule(task: Runnable, scheduledAt: LocalDateTime): void</p><p style="margin:0px;margin-left:4px;">- scheduleRecurring(task: Runnable, interval: Duration): void<br /></p><p style="margin:0px;margin-left:4px;">- calculateRelativeScheduleTime(LocalDateTime scheduledAt): long<br /></p></div></div></div></foreignObject><text x="0" y="423" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">TaskScheduler - SCHEDULER: ScheduledExecutorService {readOnl...</text></switch></g></g></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-5"><g><rect x="46.5" y="775" width="267" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 269px; height: 80px; padding-top: 775px; margin-left: 47px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 267px; height: 80px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><i>&lt;&lt;Interface&gt;&gt;</i></p><p style="margin:0px;margin-top:4px;text-align:center;"></p><p style="margin:0px;margin-top:4px;text-align:center;"><b>ScheduledExecutorService</b></p><hr style="border-style:solid;" size="1" /><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;"><br /><br /></p></div></div></div></foreignObject><text x="47" y="787" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">&lt;&lt;Interface&gt;&gt;...</text></switch></g></g></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-6"><g><path d="M 180 541 L 180 772.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 173.5 760.88 L 180 773.88 L 186.5 760.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-7"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 678px; margin-left: 180px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">SCHEDULER</div></div></div></foreignObject><text x="180" y="682" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">SCHEDULER</text></switch></g></g></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-8"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 744px; margin-left: 196px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="196" y="747" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">1</text></switch></g></g></g></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-11"><g><rect x="210" y="541" width="100" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 556px; margin-left: 260px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Adapter Pattern</div></div></div></foreignObject><text x="260" y="560" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Adapter Pattern</text></switch></g></g></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-12"><g><path d="M 510 476 L 362.24 476" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 374.12 469.5 L 361.12 476 L 374.12 482.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-13"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 477px; margin-left: 464px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">SCHEDULER</div></div></div></foreignObject><text x="464" y="480" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">SCHEDULER</text></switch></g></g></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-14"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 477px; margin-left: 398px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="398" y="480" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">1</text></switch></g></g></g></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-16"><g><path d="M 950 564.62 L 1271.57 694.16" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1258.12 695.75 L 1272.61 694.58 L 1262.98 683.7" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-17"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 642px; margin-left: 1148px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">REPOSITORY</div></div></div></foreignObject><text x="1148" y="645" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">REPOSITORY</text></switch></g></g></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-18"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 683px; margin-left: 1243px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="1243" y="686" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">1</text></switch></g></g></g></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-23"><g><path d="M 730 715 L 730 598.24" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 736.5 610.12 L 730 597.12 L 723.5 610.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-24"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 665px; margin-left: 732px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">SCHEDULER</div></div></div></foreignObject><text x="732" y="668" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">SCHEDULER</text></switch></g></g></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-25"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 606px; margin-left: 729px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="729" y="609" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">1</text></switch></g></g></g></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-26"><g><rect x="395" y="985" width="670" height="90" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 672px; height: 90px; padding-top: 985px; margin-left: 395px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 670px; height: 90px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><b>NotificationTaskFactory<br /></b></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">- RETURN_DATE_TASK_GENERATOR: ReturnDateNotificationTaskGenerator {readOnly}<br /></p><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ createReturnDateNotificationTask(account: AccountBase, lending: Lending): NotificationTask<br /></p></div></div></div></foreignObject><text x="395" y="997" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">NotificationTaskFactory...</text></switch></g></g></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-27"><g><path d="M 730 825 L 730 982.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 723.5 970.88 L 730 983.88 L 736.5 970.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-28"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 931px; margin-left: 735px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">TASK_FACTORY</div></div></div></foreignObject><text x="735" y="935" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">TASK_FACTORY</text></switch></g></g></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-29"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 977px; margin-left: 730px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="730" y="980" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">1</text></switch></g></g></g></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-30"><g><path d="M 1065 1030 L 1917.76 1030" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1905.88 1036.5 L 1918.88 1030 L 1905.88 1023.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-31"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1034px; margin-left: 1486px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">RETURN_DATE_TASK_GENERATOR</div></div></div></foreignObject><text x="1486" y="1037" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">RETURN_DATE_TASK_GENERATOR</text></switch></g></g></g><g data-cell-id="MYQSrZgurW9zKi5uDUtO-32"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1029px; margin-left: 1835px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="1835" y="1032" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">1</text></switch></g></g></g></g><g data-cell-id="J48WhFvol9g6ULd1788P-1"><g><path d="M 1920 760 L 1652.24 760" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1664.12 753.5 L 1651.12 760 L 1664.12 766.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="J48WhFvol9g6ULd1788P-2"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 741px; margin-left: 1776px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">REPOSITORY</div></div></div></foreignObject><text x="1776" y="744" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">REPOSITORY</text></switch></g></g></g><g data-cell-id="J48WhFvol9g6ULd1788P-3"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 762px; margin-left: 1701px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="1701" y="765" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">1</text></switch></g></g></g></g><g data-cell-id="J48WhFvol9g6ULd1788P-4"><g><rect x="1620" y="437.5" width="190" height="85" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 192px; height: 85px; padding-top: 438px; margin-left: 1620px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left; width: 190px; height: 85px; overflow: hidden;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: normal; overflow-wrap: normal;"><p style="margin:0px;margin-top:4px;text-align:center;"><i>&lt;&lt;Interface&gt;&gt;</i></p><p style="margin:0px;margin-top:4px;text-align:center;"></p><p style="margin:0px;margin-top:4px;text-align:center;"><b>NotificationTaskStoreStrategy</b></p><hr style="border-style:solid;" size="1" /><hr style="border-style:solid;" size="1" /><p style="margin:0px;margin-left:4px;">+ store(task: NotificationTask): void<br /></p></div></div></div></foreignObject><text x="1620" y="450" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">&lt;&lt;Interface&gt;&gt;...</text></switch></g></g></g><g data-cell-id="J48WhFvol9g6ULd1788P-5"><g><path d="M 2480 689.54 L 2821.58 603.58" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2811.65 612.78 L 2822.67 603.3 L 2808.47 600.17" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="J48WhFvol9g6ULd1788P-6"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 652px; margin-left: 2623px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">SEND_STRATEGY</div></div></div></foreignObject><text x="2623" y="655" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">SEND_STRATEGY</text></switch></g></g></g><g data-cell-id="J48WhFvol9g6ULd1788P-7"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 614px; margin-left: 2779px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="2779" y="618" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">1</text></switch></g></g></g></g><g data-cell-id="J48WhFvol9g6ULd1788P-8"><g><path d="M 2036.25 480 L 1812.24 480" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1824.12 473.5 L 1811.12 480 L 1824.12 486.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g data-cell-id="J48WhFvol9g6ULd1788P-9"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 461px; margin-left: 1907px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">STORE_STRATEGY</div></div></div></foreignObject><text x="1907" y="464" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">STORE_STRATEGY</text></switch></g></g></g><g data-cell-id="J48WhFvol9g6ULd1788P-10"><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 482px; margin-left: 1854px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="1854" y="485" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="11px" text-anchor="middle">1</text></switch></g></g></g></g><g data-cell-id="J48WhFvol9g6ULd1788P-12"><g><rect x="1070" y="0" width="490" height="130" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 65px; margin-left: 1072px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div>Issues:</div><div><b>- A NotificationTask needs to be serialized from the db</b></div><div><b><span style="white-space: pre;">	</span>- The storeStrategy is dynamically determined and can't be stored in the db.</b><br /></div><div><span style="white-space: pre;">	</span>- sendStrategy will need to be dynamically determined</div><div><b>- Currently the actual senders (ChannelNotifier's) don't have a way of getting the required</b></div><div><b>contact details.</b></div><div><b>- </b>Need more actual notification task generators to truly make sure there aren't any other problems.</div><div>- Testability need to be improved<br /></div></div></div></div></foreignObject><text x="1072" y="69" fill="rgb(0, 0, 0)" font-family="&quot;Helvetica&quot;" font-size="12px">Issues:...</text></switch></g></g></g></g></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>